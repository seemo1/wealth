<div ng-controller= "contestHtmlAdd">



    <!--add page 環境變數一覽：<br/>-->
    <!--viewTag.languageInfoChange : {{ viewTag.languageInfoChange }} <br/>-->
    <!--viewTag.rewardModel : {{ viewTag.rewardModel }} <br/>-->
    <!--viewTag.needJoinCond : {{ viewTag.needJoinCond }} <br/>-->

    <!-- 成功提示訊息 -->
    <div class="alert alert-success" role="alert" ng-if="viewTag.isUpload == 'done'">
        <strong> Well done! </strong>
        您剛完成了一個比賽新增，如需要立即發布此比賽，到「草稿模式」進行相關操作
    </div>
    <!-- 警告提示訊息 -->
    <div class="alert alert-warning" role="alert" ng-if="viewTag.isUpload == 'warning'">
        <strong> Warning !</strong>
        出了點狀況，建議再重新上傳一次試試看
    </div>
    <!-- 傳輸中提示訊息 -->
    <div class="alert alert-info" role="alert" ng-if="viewTag.isUpload == 'yes'">
       資料傳輸中，請稍候...
    </div>

    <div ng-show="viewTag.isUpload == 'no' || viewTag.isUpload == 'warning' ">

        <form name="contest_add" ng-submit="goToSubmit(file)" >
        <div category="date_info" >
            <spen><h3>>> 比賽日期設置(GMT+0)</h3></spen>
            <div class="well">
                <fieldset class="form-group">
                    <label for="start_date_time">開始時間</label>
                    <input type="text" class="form-control" name="start_date_time" id="start_date_time" ng-model="start_date_time">
                </fieldset>
                <fieldset class="form-group">
                    <label for="end_date_time">結束時間</label>
                    <input type="text" class="form-control" name="end_date_time" id="end_date_time" ng-model="end_date_time">
                </fieldset>
            </div>
        </div>

        <div category="public_info" >
            <spen><h3>>> 比賽公開資訊相關</h3></spen>
            <blockquote>
            預設語系設定：
                <input type="radio" name="defaultLanguage" value="EN" ng-model="default_language" >英文
                <input type="radio" name="defaultLanguage" value="CN" ng-model="default_language">簡中
                <input type="radio" name="defaultLanguage" value="TW" ng-model="default_language">繁中
            </blockquote>
            （<font color="blue">如果client端偵測不到對應的語系,則會讀取預設值（所以預設值的項目語系為必填喔！）</font>）
            <div class="well">
                <!-- 語言選擇器 -->
                <span> > 正在設定 {{languageSelect}} 訊息 <span>
                <span ng-init="languageSelect = 'EN'"></span> <!-- 預設EN 編輯 -->
                <div class="btn-group btn-group-justified" role="group" >
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-default">
                            <input type="radio" name="languageSelect" ng-model="languageSelect" value="EN" >英文版本
                        </label>
                    </div>
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-default">
                            <input type="radio" name="languageSelect" ng-model="languageSelect" value="CN">簡中版本
                        </label>
                    </div>
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-default">
                            <input type="radio" name="languageSelect" ng-model="languageSelect" value="TW">繁中版本
                        </label>
                    </div>
                </div>

                <!-- 英文 語系-->
                <div ng-show="languageSelect == 'EN'">
                    <fieldset class="form-group">
                        <label for="en_name">Contest's English name</label>
                        <input type="text" class="form-control" name="en_name" id="en_name" ng-model="en_name" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="en_title">Contest's English title</label>
                        <input type="text" class="form-control" name="en_title" id="en_title" ng-model="en_title" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="en_content">About the contest</label>
                        <textarea class="form-control" name="en_content" id="en_content" ng-model="en_content" rows="3"></textarea>
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="en_coin_mark">About the contest's coin name ( EX : $ )</label>
                        <input type="text" class="form-control" name="en_coin_mark" id="en_coin_mark" ng-model="en_coin_mark" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="en_reward">About the contest's reward</label>
                        <textarea class="form-control" name="en_reward" id="en_reward" ng-model="en_reward" rows="3"></textarea>
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="en_image">Upload the contest icon</label>
                        <input type="file" class="form-control-file" name="en_image" id="en_image" ng-model="en_image">
                    </fieldset>
                </div>
                <!-- 簡中 語系-->
                <div ng-show="languageSelect == 'CN'">
                    <fieldset class="form-group">
                        <label for="cn_name">比赛名称</label>
                        <input type="text" class="form-control" name="cn_name" id="cn_name" ng-model="cn_name" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="cn_title">比赛标题</label>
                        <input type="text" class="form-control" name="cn_title" id="cn_title" ng-model="cn_title" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="cn_content">比赛叙述</label>
                        <textarea class="form-control" name="cn_content" id="cn_content" rows="3" ng-model="cn_content"></textarea>
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="cn_coin_mark">比赛獎金符號 ( EX : $ )</label>
                        <input type="text" class="form-control" name="cn_coin_mark" id="cn_coin_mark" ng-model="cn_coin_mark" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="cn_reward">奖金叙述</label>
                        <textarea class="form-control" name="cn_reward" id="cn_reward" ng-model="cn_reward" rows="3"></textarea>
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="cn_image">比赛图片上传</label>
                        <input type="file" class="form-control-file" name="cn_image" id="cn_image" ng-model="cn_image">
                    </fieldset>
                </div>
                <!-- 繁中 語系-->
                <div ng-show="languageSelect == 'TW'">
                    <fieldset class="form-group">
                        <label for="tw_name">比賽名稱</label>
                        <input type="text" class="form-control" name="tw_name" id="tw_name" ng-model="tw_name" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="tw_title">比賽標題</label>
                        <input type="text" class="form-control" name="tw_title" id="tw_title" ng-model="tw_title" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="tw_content">比賽敘述</label>
                        <textarea class="form-control" name="tw_content" id="tw_content" rows="3" ng-model="tw_content"></textarea>
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="tw_coin_mark">比赛奖金符号 ( EX : $ )</label>
                        <input type="text" class="form-control" name="tw_coin_mark" id="tw_coin_mark" ng-model="tw_coin_mark" value="">
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="tw_reward">獎金敘述</label>
                        <textarea class="form-control" name="tw_reward" id="tw_reward" ng-model="tw_reward" rows="3"></textarea>
                    </fieldset>
                    <fieldset class="form-group">
                        <label for="tw_image">比賽圖片上傳</label>
                        <input type="file" class="form-control-file" name="tw_image" id="tw_image" ng-model="tw_image">
                    </fieldset>
                </div>
            </div>
        </div>
        <div category="reward">
            <spen><h3>>> 比賽獎金設定</h3></spen>
            <blockquote>
                <input type="radio" name="rewardModel" ng-model="award_item" value="A" >浮動獎金制
                <input type="radio" name="rewardModel" ng-model="award_item" value="B" >固定獎金制
                <footer>請選擇一種獎金計算方式</footer>
            </blockquote>
            <div class="well" ng-show="award_item == 'A'">
                <!-- 浮動獎金制 -->
                <fieldset class="form-group">
                    <label for="fixed_reward_total_money">獎金基礎值</label>
                    <input type="text" class="form-control" name="dynamic_reward_base_money" id="dynamic_reward_base_money" ng-model="dynamic_reward_base_money" value="" placeholder="比賽發佈的時,初始的獎金金額">
                </fieldset>
                <fieldset class="form-group">
                    <label for="dynamic_reward_rise_money">獎金成長值</label>
                    <input type="text" class="form-control" name="dynamic_reward_rise_money" id="dynamic_reward_rise_money" ng-model="dynamic_reward_rise_money" value="" placeholder="每當一人加入時會增加的金額">
                </fieldset>
                <fieldset class="form-group">
                    <label for="dynamic_reward_max_money">獎金上限值</label>
                    <input type="text" class="form-control" name="dynamic_reward_max_money" id="dynamic_reward_max_money" ng-model="dynamic_reward_max_money" value="" placeholder="獎金最大極限值">
                </fieldset>
            </div>
            <div class="well" ng-show="award_item == 'B'">
                <!-- 固定獎金制 -->
                <fieldset class="form-group">
                    <label for="fixed_reward_total_money">獎金總金額</label>
                    <input type="text" class="form-control" name="fixed_reward_total_money" id="fixed_reward_total_money" ng-model="fixed_reward_total_money" value="" placeholder="獎金總金額,設置後固定不變">
                </fieldset>
            </div>
        </div>
        <div category="join_cond">
            <spen><h3>>> 比賽門檻設置</h3></spen>
            <blockquote>加入前必要檢查條件</blockquote>
            <div class="well" data-toggle="buttons" >
                <div class="well well-sm" style="background-color : white;">
                    <h4>是否必須綁定/設置過手機號碼</h4>
                    ->其設定值為
                    <!--<input type="checkbox" checked="checked" disabled> <font color="red">必要項目無法更動</font>-->
                    <select name="join_cond_has_phone" ng-model="join_cond_has_phone" disabled>
                        <option value="Y" selected="selected" >是</option>
                        <option value="N">否</option>
                    </select>
                    <h5>（<font color="red">必要檢查項目無法更動</font>）</h5>
                </div>
                <div class="well well-sm" style="background-color : white;">
                    <h4>比賽結束前的N天無法加入</h4>
                    ->其設定值N為
                    <select name="join_cond_before_the_end_day_can_not_join" ng-model="join_cond_before_the_end_day_can_not_join"">
                        <option ng-repeat="n in range(367)" value="{{$index}}">{{$index}}</option>
                    </select>
                    <h5>（<font color="blue">設定0代表無此限制</font>）</h5>
                    <!--比賽結束前的 <input type="text" name="join_cond_before_the_end_day_can_not_join" id="join_cond_before_the_end_day_can_not_join" ng-model="join_cond_before_the_end_day_can_not_join" value="">天不能再加入-->
                </div>
                <div class="well well-sm" style="background-color : white;">
                    <h4>參賽者的 Account value 設定值</h4>
                    ->不能超過(包含)
                    <select ng-model="edit_max_account" ng-init="edit_max_account='N' ">
                        <option value="N">無限制</option>
                        <option value="Y">要設置為</option>
                    </select>
                    <span ng-show="edit_max_account == 'Y'" class="animate-if">
                        <input type="text" name="join_cond_max_money" ng-model="join_cond_max_money" value="" placeholder="Account value最大值">
                    </span>

                    <br/>
                    ->不能小於(包含)為
                    <select ng-model="edit_min_account" ng-init="edit_min_account='N' ">
                        <option value="N">無限制</option>
                        <option value="Y">要設置為</option>
                    </select>
                    <span ng-show="edit_min_account == 'Y'" class="animate-if">
                        <input type="text" name="join_cond_least_money" ng-model="join_cond_least_money" value="" placeholder="Account value最小值">
                    </span>

                </div>
            </div>

            <blockquote>
                <p>次要檢查條件</p>
                <footer>請 選 擇</footer>
                是否需要檢查下列這些條件？
                <select name="join_cond_enable" ng-model="join_cond_enable">
                    <option value="Y">需要</option>
                    <option value="N">不需要</option>
                </select>
            </blockquote>
            <!--<input type="checkbox" name="join_cond_enable" ng-click="behavior.joinCondEnable()">-->

            <div class="well" ng-show="join_cond_enable == 'Y'">
                <div class="well well-sm" style="background-color : white;">
                    <h4>必須上傳過學校證，且申請認證或者已通過驗證</h4>
                    ->其設定值為
                    <select name="join_cond_school_checking_before" ng-model="join_cond_school_checking_before">
                        <option value="Y">需要</option>
                        <option value="N">不需要</option>
                    </select>
                    <!--<input type="checkbox" name="join_cond_school_checking_before" value="Y" ng-model="join_cond_school_checking_before" value="">-->
                </div>
                <div class="well row" style="border:#DDDDDD 1px solid; border-radius: 25px ;">
                    <div class="col-md-2" style="margin-top: 35px; text-align: center ; background-color: #E6E6FA ;" >任一條件通過<br/>即通過</div>
                    <div class="col-md-10">
                        <fieldset class="form-group" style="background-color : white; border: 2px solid #dddddd; padding: 10px; ">
                            <label for="join_cond_school_key">必須是指定學校(by school_key)才能參賽</label>
                            <div>
                                ->其設定值為
                                <select name="edit_school_key" ng-model="edit_school_key" ng-init="edit_school_key = 'N' ">
                                    <option value="N" selected="selected">無限制school_key</option>
                                    <option value="Y">school_key需 設置為</option>
                                </select>{{join_cond_school_key}}
                                <div ng-show="edit_school_key == 'Y' ">
                                    <input type="text" class="form-control" name="join_cond_school_key" id="join_cond_school_key" ng-model="join_cond_school_key" placeholder="EX : 301,302 . 多組數值之間用逗點分開">
                                </div>
                            </div>
                        </fieldset>
                        <fieldset class="form-group" style="background-color : white; border: 2px solid #dddddd; padding: 10px; ">
                            <label for="join_cond_school_key">必須是指定區域學校(by school_region)才能參賽</label>
                            <div>
                                ->其設定值為
                                <select name="edit_school_region" ng-model="edit_school_region" ng-init="edit_school_region = 'N' ">
                                    <option value="N" selected="selected">無限制school_region</option>
                                    <option value="Y">school_region需 設置為</option>
                                </select>
                                <div ng-show="edit_school_region == 'Y' ">
                                    <input type="text" class="form-control" name="join_cond_school_region" id="join_cond_school_region" ng-model="join_cond_school_region" placeholder="EX : EX,CN . 多組數值之間用逗點分開">
                                </div>
                            </div>
                        </fieldset>

                    </div>
                </div>
            </div>

        </div>

        <div category="date_info" >
            <spen><h3>>> 競賽條件設置</h3></spen>
            <div class="well">
                <div class="well well-sm" style="background-color : white;">
                    <h4>虧損超過指定的百分比後,即喪失比賽資格</h4>
                    ->其設定值
                    <select name="edit_stop_loss_point" ng-model="edit_stop_loss_point" ng-init="edit_stop_loss_point = 'N'">
                        <option value="N" selected="selected">無限制</option>
                        <option value="Y">設置為</option>
                    </select>
                    <div ng-show="edit_stop_loss_point == 'Y' ">
                        <input type="text" name="ongoing_setting_stop_loss_point" ng-model="ongoing_setting_stop_loss_point" value="" placeholder="EX : 100">%
                    </div>
                </div>
                <div class="well well-sm" style="background-color : white;">
                    <h4>比賽最少參賽人數限制,若未達標準則此比賽取消</h4>
                    ->其設定值
                    <select name="edit_join_user_limit" ng-model="edit_join_user_limit" ng-init="edit_join_user_limit = 'N'">
                        <option value="N" selected="selected">無限制</option>
                        <option value="Y">設置為</option>
                    </select>
                    <div ng-show="edit_join_user_limit == 'Y' ">
                        <input type="text" name="upcoming_setting_activation_user_total" ng-model="upcoming_setting_activation_user_total" value="" placeholder="EX : 1000">人
                    </div>
                </div>
            </div>
        </div>


        <input type="submit" id="submit" value="我已填寫完成，準備送出" />
    </form>
    </div>

</div>