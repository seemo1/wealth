<div ng-controller="AnnounceController as announce">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Announcement</h3>
        </div>
    </div>

    <div class="panel panel-default" ng-show="announce.searchView">
        <div class="panel-body">
            <div class="row">
                <form class="form-inline">
                    <div class="col-md-3">
                        <div class="form-group input-group-sm">
                            <label for="filter_product">Product</label>
                            <select class="form-control"
                                    id="filter_product"
                                    ng-model="announce.product">

                                <option ng-repeat="product in announce.products">{{product}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group input-group-sm">
                            <label for="filter_platform">Platform</label>
                            <select class="form-control"
                                    id="filter_platform"
                                    ng-model="announce.platform">

                                <option ng-repeat="platform in announce.platforms">{{platform}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group input-group-sm">
                            <label for="filter_lang">Language</label>
                            <select class="form-control"
                                    id="filter_lang"
                                    ng-model="announce.language">

                                <option ng-repeat="language in announce.languages">{{language}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group input-group-sm">
                            <a class="btn btn-primary btn-sm pull-right"
                               ng-click="announce.onQuery()">
                                Query
                            </a>
                            <a class="btn btn-primary btn-sm pull-right"
                               ng-click="announce.showAddEditor()">
                                Add
                            </a>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>

    <div class="panel panel-default" ng-show="announce.editerView">

        <div class="panel-body">

            <div class="row">
                <form class="form-inline">
                    <div class="col-md-3">
                        <div class="form-group input-group-sm">
                            <label for="product">Product</label>
                            <select class="form-control"
                                    id="product"
                                    ng-model="announce.product"
                                    ng-change="announce.loadInfo()">
                                <option ng-repeat="product in announce.products">{{product}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group input-group-sm">
                            <label for="platform">Platform</label>
                            <select class="form-control"
                                    id="platform"
                                    ng-model="announce.platform"
                                    ng-change="announce.loadInfo()">
                                <option ng-repeat="platform in announce.platforms">{{platform}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group input-group-sm">
                            <label for="lang">Language</label>
                            <select class="form-control"
                                    id="lang"
                                    ng-change="announce.loadInfo()"
                                    ng-model="announce.language">
                                <option ng-repeat="language in announce.languages">{{language}}</option>
                            </select>
                        </div>
                    </div>

                </form>

            </div>
            <hr>

            <div class="row">
                <div class="col-xs-12">

                    <div class="col-xs-2">
                        <div>
                            <input type="checkbox" ng-model="announce.announce_Enable">Enable
                        </div>
                        <div>
                            <input type="checkbox" ng-model="announce.announce_Repeat">Repeat
                        </div>
                    </div>

                    <div class="col-xs-3">
                        <label class="control-label">Begin(GMT+8) </label>

                        <p class="input-group">
                            <input type="text" class="form-control" datetime-picker ng-model="announce.begin_date"
                                   is-open="announce.isCalendarOpen_Begin"/>
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default"
                                                    ng-click="announce.openCalendar($event, 'begin')">S
                                            </button>
                                        </span>
                        </p>
                    </div>
                    <div class="col-xs-3">
                        <label class="control-label">End(GMT+8) </label>

                        <p class="input-group">
                            <input type="text" class="form-control" datetime-picker ng-model="announce.end_date"
                                   is-open="announce.isCalendarOpen_End"/>
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default"
                                                    ng-click="announce.openCalendar($event, 'end')">S
                                            </button>
                                        </span>
                        </p>
                    </div>
                    <div class="col-xs-2">
                        <label class="control-label">Version </label>
                        <input type="text" class="form-control" ng-model='announce.announce_version' placeholder="ALL">
                    </div>
                    <div class="col-xs-2">
                        <label class="control-label">Country </label>
                        <input type="text" class="form-control" ng-model='announce.announce_country' placeholder="ALL">
                    </div>
                </div>

                <div class="col-xs-12">
                    <label for="msgTitle">Title</label>
                    <input type="text" class="form-control" id="msgTitle" ng-model="announce.msgTitle" maxlength="30"
                           placeholder="Input Messgae Title">
                </div>
                <div class="col-xs-12">
                    <label for="msgText">Text</label>
                                <textarea type="text" class="form-control" id="msgText" ng-model="announce.msgText"
                                          rows="10"
                                          placeholder="Input Messgae Text"></textarea>
                </div>

                <div class="row">
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-xs-1"></div>
                            <div class="col-xs-2">Caption</div>
                            <div class="col-xs-8">Action</div>
                        </div>
                        <div class="row">
                            <div class="col-xs-1">Button1</div>
                            <div class="col-xs-2">
                                <input type="text" class="form-control" ng-model="announce.buttonCaptions.button1"
                                       maxlength="12">
                            </div>
                            <div class="col-xs-8">
                                <input type="text" class="form-control" ng-model="announce.buttonActions.button1">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-1">Button2</div>
                    <div class="col-xs-2">
                        <input type="text" class="form-control" ng-model="announce.buttonCaptions.button2"
                               maxlength="12">
                    </div>
                    <div class="col-xs-8">
                        <input type="text" class="form-control" ng-model="announce.buttonActions.button2">
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-1">Button3</div>
                    <div class="col-xs-2">
                        <input type="text" class="form-control" ng-model="announce.buttonCaptions.button3"
                               maxlength="12">
                    </div>
                    <div class="col-xs-8">
                        <input type="text" class="form-control" ng-model="announce.buttonActions.button3">
                    </div>
                            <span class="input-group-btn">
                                <button class="btn btn-primary" type="button" ng-click="announce.saveAnnounce()">Save
                                </button>
                            </span>
                            <span class="input-group-btn">
                                <button class="btn btn-primary" type="button" ng-click="announce.cancelEditor()">Cancel
                                </button>
                            </span>
                </div>
            </div>

        </div>

    </div>


    <div class="panel panel-default" ng-show="announce.listView">
        <div class="panel-heading clearfix">
            <h4 class="panel-title pull-left">&nbsp;&nbsp;File list</h4>

        </div>

        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>#</th>
                <th>seqNo</th>
                <th>Version</th>
                <th>Country</th>
                <th>Enable</th>
                <th>Repeat</th>
                <th>Begin</th>
                <th>End</th>
                <th>Title</th>
                <th>Text</th>
                <th>Btn_Type</th>
                <th>Btn_Caption</th>
                <th>Btn_Action</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="l in announce.announceList">
                <td>{{$index + 1}}</td>
                <td>{{l.seqno}}</td>
                <td>{{l.version}}</td>
                <td>{{l.country}}</td>
                <td>{{l.enable}}</td>
                <td>{{l.repeat}}</td>
                <td><span uib-popover="{{l.begin_time}}" popover-trigger="mouseenter">{{l.begin_time}}</span></td>
                <td>{{l.end_time}}</td>
                <td>{{l.msg_title}}</td>
                <td><textarea>{{l.msg_text}}</textarea></td>
                <td>{{l.button_type}}</td>
                <td>{{l.button_caption}}</td>
                <td>{{l.button_action}}</td>
                <td>
                    <a class="btn btn-primary btn-sm pull-right" ng-click="announce.showModifyEditor(l.seqno)">
                        Edit
                    </a>
                    <a class="btn btn-primary btn-sm pull-right" ng-click="announce.deleteAnnounce(l.seqno)">
                        Del
                    </a>
                </td>
            </tr>
            </tbody>
        </table>


    </div>

</div>