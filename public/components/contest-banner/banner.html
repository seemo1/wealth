<div ng-controller="ContestBannerController as bannerCtrl" ng-init="bannerCtrl.getBanners()">
    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <h4 class="panel-title pull-left">Banner</h4>
        </div>
        <div class="panel-body">
            <div>
                <table class="table text-center">
                    <tr class="bg-primary">
                        <td><span class="glyphicon glyphicon-menu-hamburger"></span></td>
                        <td class="table-medium-row">Image</td>
                        <td class="table-small-row">Link</td>
                        <td class="table-medium-row">Place</td>
                        <td class="table-medium-row">Language</td>
                        <td class="table-medium-row">Update Time</td>
                    </tr>
                    <tr ng-repeat="banner in bannerCtrl.bannerList">
                        <td>
                            <a class="glyphicon glyphicon-pencil" aria-hidden="true"
                               tooltip-placement="top" tooltip="Click to edit banner"
                               ng-click="bannerCtrl.edit(banner)"></a><br>
                        </td>
                        <td class="table-medium-row">
                            <img ng-src="{{banner.image ? banner.image : 'http://placehold.it/140x140'}}"
                                 class="img-responsive">
                        </td>
                        <td class="table-small-row">{{banner.link}}</td>
                        <td class="table-small-row">{{banner.place_type}}</td>
                        <td class="table-small-row">{{banner.language}}</td>
                        <td class="table-small-row">{{banner.last_update_time}}</td>
                </table>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="banner-edit2.html">

    <div class="modal-body">
        <form name="edit.formEditBanner" ng-submit="edit.save(file)">
            <div class="col-md-4 col-xs-4">
                <div class="form-group input-group-sm">
                    <label for="place">Place</label>
                    <input type="text" id='place' name='place' class="form-control"
                           ng-model="edit.banner.place_type" required ng-disabled="true">
                </div>
            </div>
            <div class="col-md-4 col-xs-4">
                <div class="form-group input-group-sm">
                    <label for="place">Language</label>
                    <input type="text" id='language' name='language' class="form-control"
                           ng-model="edit.banner.language" required ng-disabled="true">
                </div>
            </div>
            <div class="input-group input-group-sm col-xs-8"
                 ng-class="edit.formEditBanner.file.$invalid ? 'has-error':'has-success'">
                <label for="imgFile">Image (replace the old one, Max 1242 x 504)</label>
                <input type="file" ngf-select ng-model="file" accept="image/*" id="imgFile" name="file"
                       ngf-validate="{width: {max:1242}, height: {max:504}}" class="form-control" ng-model-rejected="rejFiles">
                <p class="text-danger" ng-repeat="file in rejFiles">{{file.name + ' invalid ' + file.$error}}</p>
            </div>
            <div class="input-group input-group-sm col-xs-8"
                 ng-class="edit.formEditBanner.link.$invalid ? 'has-error':'has-success'">
                <label for="link">Link</label>
                <input type="text" id='link' name='link' class="form-control"
                       ng-model="edit.banner.link" placeholder="Link" required>
            </div>
            <br>

            <button class="btn btn-success btn-block" ng-disabled="edit.formEditBanner.$invalid || edit.updating">Save</button>
            <button type="button" class="btn btn-danger btn-block" ng-click="edit.cancel()">Close</button>
        </form>
    </div>

</script>


